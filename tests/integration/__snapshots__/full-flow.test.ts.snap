// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`Integration: Markdown to HTML Generation should generate a complete HTML file with all features applied 1`] = `
"<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Integration Test Slide</title>
<style>:root { --slide-width: 960px; --slide-height: 720px; }
:root{--theme-fg:#1a1a1a;--theme-bg:#ffffff;--theme-accent:#0055ff;--theme-dim:#888888;--theme-backdrop:#000000;--theme-font-base:"Helvetica Neue",Helvetica,Arial,sans-serif;--theme-font-code:"Fira Code",monospace;--theme-slide-padding:4em;--theme-block-gap:0.2em;--theme-col-gap:0.5em;--theme-line-height:1.4;--theme-slide-width:1280px;--theme-slide-height:720px;--theme-font-size-h1:2.5em;--theme-font-size-h2:2em;--theme-font-size-h3:1.5em;--theme-font-size-body:1em;--theme-font-size-code:0.8em;}:root{--c-fg:var(--theme-fg,#1a1a1a);--c-bg:var(--theme-bg,#ffffff);--c-accent:var(--theme-accent,#0055ff);--c-dim:var(--theme-dim,#888888);--c-backdrop:var(--theme-backdrop,#000000);--font-base:var(--theme-font-base,"Helvetica Neue",Helvetica,Arial,sans-serif);--font-code:var(--theme-font-code,"Fira Code",monospace);--slide-padding:var(--theme-slide-padding,4em);--block-gap:var(--theme-block-gap,0.2em);--col-gap:var(--theme-col-gap,0.5em);--line-height:var(--theme-line-height,1.4);--slide-width:var(--theme-slide-width,1280px);--slide-height:var(--theme-slide-height,720px);--theme-font-scale-xs:0.85;--theme-font-scale-s:0.925;--theme-font-scale-m:1;--theme-font-scale-l:1.15;--theme-font-scale-xl:1.3;}body{margin:0;padding:0;font-family:var(--font-base);font-size:16px;color:var(--c-fg);background:var(--c-backdrop);overflow:hidden;display:flex;justify-content:center;align-items:center;height:100vh;}.slide:not(:first-child){opacity:0;pointer-events:none;}.js-active .slide{opacity:0;pointer-events:none;}.js-active .slide.active{opacity:1;pointer-events:auto;z-index:1;}.slide-viewport{width:var(--slide-width,1280px);height:var(--slide-height,720px);margin:0 auto;position:relative;}#slide-container{width:var(--slide-width,1280px);height:var(--slide-height,720px);position:relative;background:var(--c-bg);overflow:hidden;margin:0 auto;transform-origin:center center;transform:scale(1);}.slide{position:absolute;top:0;left:0;width:100%;height:100%;padding:var(--slide-padding);box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;min-height:0;opacity:1;pointer-events:auto;font-size:calc(var(--font-size-base,16px) * var(--text-scale,1));}.slide img,.slide video,.slide iframe{max-width:100%;max-height:100%;height:auto;object-fit:contain;display:block;margin:0 0;}.slide.has-background{padding:0;justify-content:center;}.slide.has-background > *{padding:var(--slide-padding);max-width:calc(100% - 2 * var(--slide-padding));}.columns{display:flex;gap:var(--col-gap);margin-top:var(--col-gap);flex:1;min-height:0;align-items:flex-start;width:100%;box-sizing:border-box;}.columns .col{flex:1 1 0;min-width:0;display:flex;flex-direction:column;justify-content:flex-start;box-sizing:border-box;}.columns .col img,.columns .col video,.columns .col iframe{max-width:100%;height:auto;display:block;}.columns .col pre{max-width:100%;overflow:auto;}:root{--font-size-h1:var(--theme-font-size-h1,2.5em);--font-size-h2:var(--theme-font-size-h2,2em);--font-size-h3:var(--theme-font-size-h3,1.5em);--font-size-body:var(--theme-font-size-body,1em);--font-size-code:var(--theme-font-size-code,0.8em);--font-scale-xs:var(--theme-font-scale-xs,0.85);--font-scale-s:var(--theme-font-scale-s,0.925);--font-scale-m:var(--theme-font-scale-m,1);--font-scale-l:var(--theme-font-scale-l,1.15);--font-scale-xl:var(--theme-font-scale-xl,1.3);}h1,.h1{font-size:var(--font-size-h1);font-weight:700;margin:0 0 0.5em 0;line-height:1.2;}h2,.h2{font-size:var(--font-size-h2);font-weight:600;margin:0 0 0.5em 0;line-height:1.2;}h3,.h3{font-size:var(--font-size-h3);font-weight:600;margin:0 0 0.5em 0;line-height:1.2;}p,ul,ol{font-size:var(--font-size-body);margin:0 0 0.5em 0;line-height:var(--line-height);}h2{margin-bottom:var(--block-gap);margin-top:0;}h3{margin-bottom:var(--block-gap);margin-top:0;}p,ul,ol{line-height:var(--line-height);margin-top:0;margin-bottom:var(--block-gap);}li{line-height:var(--line-height);margin-top:0;margin-bottom:var(--block-gap);}ul,ol{padding-left:1.5em;}code{font-family:var(--font-code);background:rgba(0,0,0,0.05);padding:0.2em 0.4em;border-radius:4px;}pre{background:#f4f4f4;padding:1em;border-radius:8px;overflow-x:auto;}pre code{background:none;padding:0;font-size:var(--font-size-code);}.font-size-xs{--font-size-h1:calc(var(--theme-font-size-h1) * var(--font-scale-xs));--font-size-h2:calc(var(--theme-font-size-h2) * var(--font-scale-xs));--font-size-h3:calc(var(--theme-font-size-h3) * var(--font-scale-xs));--font-size-body:calc(var(--theme-font-size-body) * var(--font-scale-xs));--font-size-code:calc(var(--theme-font-size-code) * var(--font-scale-xs));}.font-size-s{--font-size-h1:calc(var(--theme-font-size-h1) * var(--font-scale-s));--font-size-h2:calc(var(--theme-font-size-h2) * var(--font-scale-s));--font-size-h3:calc(var(--theme-font-size-h3) * var(--font-scale-s));--font-size-body:calc(var(--theme-font-size-body) * var(--font-scale-s));--font-size-code:calc(var(--theme-font-size-code) * var(--font-scale-s));}.font-size-m{--font-size-h1:calc(var(--theme-font-size-h1) * var(--font-scale-m));--font-size-h2:calc(var(--theme-font-size-h2) * var(--font-scale-m));--font-size-h3:calc(var(--theme-font-size-h3) * var(--font-scale-m));--font-size-body:calc(var(--theme-font-size-body) * var(--font-scale-m));--font-size-code:calc(var(--theme-font-size-code) * var(--font-scale-m));}.font-size-l{--font-size-h1:calc(var(--theme-font-size-h1) * var(--font-scale-l));--font-size-h2:calc(var(--theme-font-size-h2) * var(--font-scale-l));--font-size-h3:calc(var(--theme-font-size-h3) * var(--font-scale-l));--font-size-body:calc(var(--theme-font-size-body) * var(--font-scale-l));--font-size-code:calc(var(--theme-font-size-code) * var(--font-scale-l));}.font-size-xl{--font-size-h1:calc(var(--theme-font-size-h1) * var(--font-scale-xl));--font-size-h2:calc(var(--theme-font-size-h2) * var(--font-scale-xl));--font-size-h3:calc(var(--theme-font-size-h3) * var(--font-scale-xl));--font-size-body:calc(var(--theme-font-size-body) * var(--font-scale-xl));--font-size-code:calc(var(--theme-font-size-code) * var(--font-scale-xl));}table{width:100%;border-collapse:collapse;margin:1em 0;font-size:var(--font-size-body);}th,td{padding:var(--block-gap) var(--col-gap);text-align:left;border-bottom:1px solid var(--c-dim);}th{font-weight:600;border-bottom:2px solid var(--c-fg);}thead th{border-bottom:2px solid var(--c-fg);}tbody tr:last-child td{border-bottom:none;}.center{text-align:center;margin-left:auto;margin-right:auto;display:block;}.left{text-align:left;margin-right:auto;display:block;}.right{text-align:right;margin-left:auto;display:block;}.top{margin-top:0;margin-bottom:auto;}.bottom{margin-top:auto;margin-bottom:0;}.caption{font-size:0.8em;color:var(--c-dim);margin-top:0.5em;display:block;}img .fit{max-width:100%;object-fit:contain;display:block;margin:0 0;}img.cover{position:absolute;object-fit:cover;top:0;left:0;width:100%;height:100%;z-index:-1;margin:0;padding:0;}.opacity-0{opacity:0;}.opacity-10{opacity:0.1;}.opacity-20{opacity:0.2;}.opacity-30{opacity:0.3;}.opacity-40{opacity:0.4;}.opacity-50{opacity:0.5;}.opacity-60{opacity:0.6;}.opacity-70{opacity:0.7;}.opacity-80{opacity:0.8;}.opacity-90{opacity:0.9;}.opacity-100{opacity:1;}.gray-0{filter:none;}.gray-10{filter:grayscale(10%);}.gray-20{filter:grayscale(20%);}.gray-30{filter:grayscale(30%);}.gray-40{filter:grayscale(40%);}.gray-50{filter:grayscale(50%);}.gray-60{filter:grayscale(60%);}.gray-70{filter:grayscale(70%);}.gray-80{filter:grayscale(80%);}.gray-90{filter:grayscale(90%);}.gray-100{filter:grayscale(100%);}.mark{background:linear-gradient(90deg,rgba(255,230,100,0.95),rgba(255,230,100,0.8));padding:0.08em 0.25em;border-radius:3px;color:inherit;display:inline;box-decoration-break:clone;-webkit-box-decoration-break:clone;}.muted{color:var(--c-dim);opacity:0.9;}.accent{color:var(--c-accent);}.small{font-size:0.8em;line-height:1.2;}.block-center{margin-left:auto;margin-right:auto;}.overlay-dim{background:rgba(0,0,0,0.35);color:#fff;}#laser-pointer{position:fixed;width:12px;height:12px;border-radius:50%;background-color:#ff0000;box-shadow:0 0 8px #ff0000,0 0 16px #ff0000;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);transition:opacity 0.2s;opacity:0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;}@media print{@page{size:landscape;margin:0;}body{background:none;height:auto;overflow:visible;display:block;}#slide-container{width:100%;height:auto;overflow:visible;background:none;}.slide{position:relative;top:auto;left:auto;width:100vw;height:100vh;opacity:1 !important;pointer-events:auto;page-break-after:always;break-after:page;border:none;box-shadow:none;}.slide.active{opacity:1;}}</style>
</head>
<body class="font-size-m">
<div class="slide-viewport">
<div id="slide-container">
<section class="slide active" id="slide-1" data-id="1" style="font-size: 32px">
<h1>Slide 1</h1>
<p>Content of slide 1.</p>
</section>
<section class="slide" id="slide-2" data-id="2" style="font-size: 32px">
<h1>Slide 2</h1>
<ul>
<li>List item 1</li>
<li>List item 2</li>
</ul>
<div class="speaker-notes" hidden><p>Speaker notes for slide 2</p>
</div>
</section>
<section class="slide" id="slide-3" data-id="3" style="font-size: 32px">
<h1>Slide 3 with Custom Class</h1>
<img class="shadow-lg" src="image.png" alt="Test Image">
</section>
</div>
</div>
<script>
class \${slides;currentSlideIndex=0;container;minScale;minContainerWidth;minContainerHeight;minContainerScale;recomputeTimeout=null;onSlideChange;constructor(j={}){let K=j.slideSelector||".slide";this.slides=Array.from(document.querySelectorAll(K)),this.container=document.getElementById(j.containerId||"slide-container"),this.minScale=j.minScale||0.4,this.onSlideChange=j.onSlideChange,this.handleResize=this.handleResize.bind(this),this.handleOrientation=this.handleOrientation.bind(this),window.addEventListener("resize",this.handleResize),window.addEventListener("orientationchange",this.handleOrientation);let E=document.documentElement,G=parseInt(getComputedStyle(E).getPropertyValue("--slide-width")||"1280"),M=parseInt(getComputedStyle(E).getPropertyValue("--slide-height")||"720");this.minContainerWidth=j.minContainerWidth??G,this.minContainerHeight=j.minContainerHeight??M,this.minContainerScale=j.minContainerScale??0.7}get totalSlides(){return this.slides.length}get currentIndex(){return this.currentSlideIndex}destroy(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("orientationchange",this.handleOrientation)}goTo(j,K=!1){if(this.slides.length===0)return;let E=Math.max(0,Math.min(j,this.totalSlides-1)),G=this.slides[E];if(G)try{let q=this.computeScaleForSlide(G);G.style.setProperty("--text-scale",String(Number(q.toFixed(3))))}catch(q){console.warn("Failed to compute scale for slide:",q)}this.slides.forEach((q,A)=>{if(A===E){if(q.classList.add("active"),this.scheduleRecompute(40),Array.from(q.querySelectorAll("img")).forEach((Q)=>{if(!Q.complete){let Z=()=>{this.scheduleRecompute(),Q.removeEventListener("load",Z)};Q.addEventListener("load",Z)}}),document.fonts&&document.fonts.ready)document.fonts.ready.then(()=>{this.scheduleRecompute()}).catch(()=>{})}else{if(q.classList.contains("active")){let R=!1,Q=(_)=>{if(_.propertyName==="opacity"){if(!R)this.clearScaleFromSlide(q),R=!0;q.removeEventListener("transitionend",Q)}};q.addEventListener("transitionend",Q);let Z=window.setTimeout(()=>{if(!R)this.clearScaleFromSlide(q);try{q.removeEventListener("transitionend",Q)}catch{}clearTimeout(Z)},350)}else this.clearScaleFromSlide(q);q.classList.remove("active")}});let M=this.currentSlideIndex;if(this.currentSlideIndex=E,!K&&this.onSlideChange&&M!==E)this.onSlideChange(E)}next(){if(this.currentSlideIndex<this.totalSlides-1)this.goTo(this.currentSlideIndex+1)}prev(){if(this.currentSlideIndex>0)this.goTo(this.currentSlideIndex-1)}computeScaleForSlide(j){let K=this.container?this.container.clientHeight:window.innerHeight,E=window.getComputedStyle(j),G=parseFloat(E.paddingTop||"0")||0,M=parseFloat(E.paddingBottom||"0")||0,q=Math.max(0,K-(G+M)),A=Math.max(0,(j.scrollHeight||0)-(G+M));if(!A||A<=q)return 1;let P=q/A;return Math.max(this.minScale,Math.min(1,P))}applyScaleToSlide(j){let K=this.computeScaleForSlide(j);j.style.setProperty("--text-scale",String(Number(K.toFixed(3))))}clearScaleFromSlide(j){j.style.removeProperty("--text-scale")}scheduleRecompute(j=80){if(this.recomputeTimeout!==null)window.clearTimeout(this.recomputeTimeout);this.recomputeTimeout=window.setTimeout(()=>{let K=this.slides[this.currentSlideIndex];if(K)this.applyScaleToSlide(K);this.recomputeTimeout=null},j)}handleResize(){this.updateContainerTransform(),this.scheduleRecompute(80)}handleOrientation(){this.updateContainerTransform(),this.scheduleRecompute(120)}updateContainerTransform(){if(!this.container)return;let{innerWidth:j,innerHeight:K}=window;if(j<this.minContainerWidth||K<this.minContainerHeight){let E=j/this.minContainerWidth,G=K/this.minContainerHeight,M=Math.min(E,G);if(this.minContainerScale!==void 0)M=Math.max(M,this.minContainerScale);this.container.style.transform=\`scale(\${M})\`,this.container.style.transformOrigin="center center"}else this.container.style.transform="",this.container.style.transformOrigin=""}}document.addEventListener("DOMContentLoaded",()=>{let j=new $;function K(){let A=document.documentElement,P=parseInt(getComputedStyle(A).getPropertyValue("--slide-width")||"1280"),R=parseInt(getComputedStyle(A).getPropertyValue("--slide-height")||"720");return{slideWidth:P,slideHeight:R}}function E(){let A=document.getElementById("slide-container");if(!A)return;let{slideWidth:P,slideHeight:R}=K(),Q=window.innerWidth,Z=window.innerHeight,_=Q/P,D=Z/R,F=Math.min(_,D);A.style.transform=\`scale(\${F})\`,A.style.transformOrigin="center center"}function G(){window.location.hash=\`#\${j.currentIndex+1}\`}function M(){let A=window.location.hash.substring(1),P=parseInt(A,10);if(!isNaN(P)&&P>=1&&P<=j.totalSlides){if(P-1!==j.currentIndex)j.goTo(P-1)}}if(document.addEventListener("keydown",(A)=>{switch(A.key){case"ArrowRight":case"Space":case"Enter":case"n":if(A.key==="Space")A.preventDefault();j.next(),G();break;case"ArrowLeft":case"p":j.prev(),G();break;case"Home":j.goTo(0),G();break;case"End":j.goTo(j.totalSlides-1),G();break}}),window.location.hash)M();else j.goTo(0),G();E();let q;window.addEventListener("resize",()=>{clearTimeout(q),q=window.setTimeout(E,16)}),document.body.classList.add("js-active"),window.addEventListener("hashchange",M)});
</script>
</body>
</html>"
`;
